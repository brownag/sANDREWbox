## Pedon Summary Functions

This is a scratchpad for the development of pedon summary functions. 

These functions are intended to operate on elements of a soil profile collection (e.g. via `profileApply()`). Currently, these operate on SPCs as generated by `fetchNASIS()`. Additional support and schema management will be required to work with the `fetchKSSL()` SPCs. If you are generating an SPC from a non-NASIS/non-KSSL source, ensure that the field names and contents mirror those used in the fetchX()s.

The pedon summary functions return depths/presence-absence information for soil diagnostic properties, materials and horizons. Thus far, the focus has primarily been on developing a programmatic method for validating particle size class.

The document in this directory contains several summary functions and a demonstration of PSCS validation for a NASIS selected set. The script validates PSCS by using identifying the presence of the relevant diagnostics (e.g. argillic horizon, organic surface layers) then pushing through the PSCS key (currently not a truly hierarchical implementation, see goals RE: data.tree()). Upcoming efforts will be directed at manipulating KSSL data to determine andic soil properties, and also working off field derived values such as NaF pH. Currently, the PSCS determination relies on accurate order-level taxonomy in the NASIS pedon object for applying the Andisol-specific PSCS. It is not currently robust enough to deal with the size classes for organic soil materials.

A few future ideas:

  * Identification of a physiographic/climatic "extended set" of KSSL/lab-sampled pedons based on taxon, parent material, region etc. 
  
  * Guided inference from the lab-derived properties of the extended set to uncharacterized pedons
  
  * data.tree() implementation of PSCS key
  
  * Development of other family-level "mini-keys" (mineralogy, climate regimes)
  
  * Clever way of aliasing between NASIS/KSSL/flat-file-derived SoilProfileCollection objects **(high priority)**

Eventually, the goal is a computer-assisted classification implementation of Soil Taxonomy all the way to family level. This will require user input to guide the suggested inferences/connections made by the machine (e.g. to use another pedon lab properties as a surrogate). It will proceed through the keys programatically, do all the number crunching and evaluate as much as it can objectively, and take user input where it needs to make a decision. This will result in accumulated "uncertainties" which will be used to generate a "fuzzy" classification. This classification is "fuzzy" in that it would/could vary if additional site-specific data were gathered. Other possible taxa, and their associated criteria, would be tabulated.

